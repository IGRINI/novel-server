{{ template "layout.html" . }}

{{ define "title" }}Редактировать Настройку: {{ .config.Key }}{{ end }}

{{ define "breadcrumbs" }}
<nav class="breadcrumbs">
    <ul>
        <li><a href="/admin/dashboard">Дашборд</a></li>
        <li><a href="/admin/configs">Конфигурация</a></li>
        <li>Редактировать: {{ .config.Key }}</li>
    </ul>
</nav>
{{ end }}

{{ define "content" }}
<div class="app-container">
    <h1>Редактировать Настройку: <code>{{ .config.Key }}</code></h1>

    <!-- Flash Message Display -->
    {{ if .flashMessage }}
        <div class="system-message {{ if eq .flashType "success" }}system-message--success{{ else }}system-message--error{{ end }} mb-3">
            {{ .flashMessage }}
        </div>
    {{ end }}
    <!-- End Flash Message Display -->

    <form action="{{ .form_action }}" method="post" class="data-form">
         <div class="content-card">
            <div class="content-card-header">Редактирование настройки</div>
            <div class="content-card-body">
                <div class="mb-3">
                    <label for="key" class="form-label">Ключ (Key)</label>
                    <input type="text" class="form-control" id="key" name="key" value="{{ .config.Key }}" readonly disabled>
                    <small class="text-muted">Ключ нельзя изменить после создания.</small>
                </div>

                <div class="mb-3">
                    <label for="value" class="form-label">Значение (Value)</label>
                    <textarea class="form-control" id="value" name="value" rows="5" required>{{ .config.Value }}</textarea>
                    <small class="text-muted">Текущее значение настройки.</small>
                </div>
            </div>

            <div class="content-card-footer button-group">
                <button type="submit" class="cta-button cta-button--primary">Сохранить</button>
                <a href="/admin/configs" class="cta-button cta-button--secondary">Отмена</a>
            </div>
        </div>
    </form>

</div>
{{ end }} 