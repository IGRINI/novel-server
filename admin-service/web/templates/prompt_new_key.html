{{ template "layout.html" . }}

{{ define "title" }}Создать новый ключ промпта{{ end }}

{{ define "breadcrumbs" }}
<nav class="breadcrumbs">
    <ul>
        <li><a href="/admin/dashboard">Дашборд</a></li>
        <li><a href="/admin/prompts">Промпты</a></li>
        <li>Создать новый ключ</li>
    </ul>
</nav>
{{ end }}

{{ define "content" }}
<div class="app-container">
    <h1>Создать новый ключ промпта</h1>

    {{ if .flashMessage }}
        <div class="system-message {{ if eq .flashType "success" }}system-message--success{{ else }}system-message--error{{ end }} mb-3">
            {{ .flashMessage }}
        </div>
    {{ end }}

    <form action="/admin/prompts/new" method="post" class="data-form">
        <div class="content-card">
            <div class="content-card-header">Новый ключ промпта</div>
            <div class="content-card-body">
                <div class="mb-3">
                    <label for="key" class="form-label">Ключ (Key)</label>
                    <input type="text" class="form-control" id="key" name="key" value="{{ .formData.Key }}" required pattern="^[a-zA-Z0-9_.]+$" placeholder="например, story_summary или character_description">
                    <small class="text-muted">Уникальный идентификатор ключа. Используйте латиницу, цифры, точки и подчеркивания. Должен быть уникальным во всей системе.</small>
                     {{ if .formErrors.Key }}<div class="text-danger mt-1"><small>{{ .formErrors.Key }}</small></div>{{ end }}
                </div>
            </div>
            <div class="content-card-footer button-group">
                <button type="submit" class="cta-button cta-button--primary">Создать ключ</button>
                <a href="/admin/prompts" class="cta-button cta-button--secondary">Отмена</a>
            </div>
        </div>
    </form>
</div>
{{ end }} 