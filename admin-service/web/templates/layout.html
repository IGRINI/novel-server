<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Ссылка на стили лендинга -->
    <link rel="stylesheet" href="/style.css">
    <!-- Нейтральный заголовок -->
    <title>{{ block "title" . }}Панель управления{{ end }}</title>
    <!-- Подключаем HTMX (оставляем, если используется) -->
    <script src="https://unpkg.com/htmx.org@1.9.10" integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" crossorigin="anonymous"></script>
    <!-- Минимальные дополнительные стили -->
    <style>
        /* Используем переменные из style.css */
        body {
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: var(--font-primary);
        }

        /* Стили для контейнера приложения */
        .app-container {
            width: 90%;
            max-width: 1200px; /* Можно настроить */
            margin: 2rem auto; /* Добавляем отступ сверху/снизу */
            padding: 0 15px;
        }

        /* Стили для хедера приложения (переопределение/дополнение) */
        .app-header {
            background-color: rgba(10, 10, 30, 0.9);
            backdrop-filter: blur(3px);
            border-bottom: 1px solid rgba(0, 195, 253, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .app-header .nav__link {
            font-weight: 500;
        }
        .app-header .app-logout a {
             color: var(--text-color-muted);
             font-size: 0.9rem;
        }
         .app-header .app-logout a:hover {
             color: var(--primary-color);
         }

        /* Стили для таблиц */
        .data-table {
            width: 100%;
            margin-bottom: 1.5rem;
            border-collapse: collapse;
            background-color: var(--card-background); /* Фон как у карточек */
            border: 1px solid rgba(0, 195, 253, 0.2);
            border-radius: 5px; /* Небольшое скругление */
            overflow: hidden; /* Чтобы скругление работало */
        }
        .data-table th, .data-table td {
            padding: 0.8rem 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(0, 195, 253, 0.15);
        }
        .data-table thead th {
            background-color: rgba(0, 195, 253, 0.1);
            color: var(--primary-color);
            font-weight: 600;
            border-bottom-width: 2px;
            border-bottom-color: rgba(0, 195, 253, 0.3);
        }
        .data-table tbody tr:last-child td {
            border-bottom: none;
        }
        .data-table tbody tr:hover {
            background-color: rgba(0, 195, 253, 0.05);
        }
        .data-table a { /* Ссылки внутри таблиц */
             font-weight: 500;
        }

        /* Стили для форм */
        .data-form label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color-muted);
        }
        .data-form input[type="text"],
        .data-form input[type="email"],
        .data-form input[type="password"],
        .data-form input[type="number"],
        .data-form textarea,
        .data-form select {
            width: 100%;
            padding: 10px 15px;
            font-size: 1rem;
            font-family: var(--font-primary);
            background-color: rgba(10, 10, 30, 0.7); 
            border: 1px solid rgba(0, 255, 255, 0.4); 
            border-radius: 5px;
            color: var(--text-color);
            transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            caret-color: var(--primary-color); 
            margin-bottom: 1rem;
            box-sizing: border-box; 
        }
         .data-form textarea {
             min-height: 100px; 
             resize: vertical; 
         }
        .data-form input:focus,
        .data-form textarea:focus,
        .data-form select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: var(--glow-effect);
        }
        .data-form input[readonly],
        .data-form textarea[readonly],
        .data-form input[disabled],
        .data-form textarea[disabled] {
             background-color: rgba(10, 10, 30, 0.4);
             cursor: not-allowed;
             opacity: 0.7;
        }
        .data-form input[type="checkbox"] {
            width: auto; 
            margin-right: 0.5em;
        }
        .data-form fieldset {
            border: 1px solid rgba(0, 255, 255, 0.2);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
        }
        .data-form legend {
            padding: 0 0.5em;
            font-weight: 600;
            color: var(--primary-color);
        }

        /* Стили для кнопок (используем .cta-button из style.css) */
        .button-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        /* Стили для системных сообщений */
        .system-message {
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 5px;
            border: 1px solid;
            position: relative;
        }
        .system-message--error {
            color: #ffdddd;
            background-color: rgba(220, 53, 69, 0.3);
            border-color: rgba(220, 53, 69, 0.5);
        }
        .system-message--success {
            color: #d4edda;
            background-color: rgba(40, 167, 69, 0.2);
            border-color: rgba(40, 167, 69, 0.4);
        }
        .system-message--warning {
            color: #fff3cd;
            background-color: rgba(255, 193, 7, 0.2);
            border-color: rgba(255, 193, 7, 0.4);
        }
         .system-message--info {
            color: #d1ecf1;
            background-color: rgba(23, 162, 184, 0.2);
            border-color: rgba(23, 162, 184, 0.4);
        }

        /* Стили для карточек контента */
        .content-card {
            background-color: var(--card-background);
            border: 1px solid rgba(0, 195, 253, 0.2);
            border-radius: 8px;
            margin-bottom: 1.5rem;
            overflow: hidden; 
        }
        .content-card-header {
            padding: 1rem 1.5rem;
            background-color: rgba(0, 195, 253, 0.08);
            border-bottom: 1px solid rgba(0, 195, 253, 0.15);
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.1rem;
        }
        .content-card-body {
            padding: 1.5rem;
        }
        .content-card-footer {
            padding: 1rem 1.5rem;
            background-color: rgba(0, 195, 253, 0.05);
            border-top: 1px solid rgba(0, 195, 253, 0.15);
            display: flex; 
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        /* Хлебные крошки */
        .breadcrumbs {
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-color-muted);
        }
        .breadcrumbs ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            gap: 0.5em;
        }
        .breadcrumbs li::after {
            content: '/';
            margin-left: 0.5em;
            opacity: 0.5;
        }
        .breadcrumbs li:last-child::after {
            content: ''; 
        }
        .breadcrumbs a {
            color: var(--text-color-muted);
        }
        .breadcrumbs a:hover {
            color: var(--primary-color);
        }
        .breadcrumbs li:last-child {
            color: var(--text-color); 
            font-weight: 500;
        }

        /* Утилиты */
        .mb-3 { margin-bottom: 1rem !important; }
        .mt-2 { margin-top: 0.5rem !important; }
        .mt-3 { margin-top: 1rem !important; }
        .mt-4 { margin-top: 1.5rem !important; }
        .ms-2 { margin-left: 0.5rem !important; }
        .me-2 { margin-right: 0.5rem !important; }
        .text-danger { color: #ff8a8a !important; } 
        .text-success { color: #a1ffb7 !important; }
        .text-info { color: #9be7ff !important; }
        .text-warning { color: #fff59d !important; }
        .text-muted { color: var(--text-color-muted) !important; }

    </style>
</head>
<body>
    {{if not .IsLoginPage}}
    <!-- Используем классы .header и .header__container, добавляем app-header -->
    <header class="header app-header">
        <div class="header__container">
            <!-- Навигация -->
            <nav class="nav app-nav">
                <ul class="nav__list">
                    <!-- Оставляем нейтральные названия ссылок -->
                    <li class="nav__item"><a href="/admin/dashboard" class="nav__link">Дашборд</a></li>
                    <li class="nav__item"><a href="/admin/users" class="nav__link">Пользователи</a></li>
                    <li class="nav__item"><a href="/admin/ai-playground" class="nav__link">AI Playground</a></li>
                    <li class="nav__item"><a href="/admin/prompts" class="nav__link">Промпты</a></li>
                    <li class="nav__item"><a href="/admin/configs" class="nav__link">Конфигурация</a></li>
                </ul>
            </nav>
            <!-- Ссылка выхода -->
            <div class="app-logout">
                <a href="/admin/logout">Выход</a>
            </div>
        </div>
    </header>
    {{end}}

    <!-- Используем класс .app-container для основного контента -->
    <main class="app-container">
        {{ block "content" . }}
        <!-- Содержимое страницы будет вставлено сюда -->
        {{ end }}
    </main>
    <!-- Подключаем Bootstrap JS (если нужен для компонентов типа Modal) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 